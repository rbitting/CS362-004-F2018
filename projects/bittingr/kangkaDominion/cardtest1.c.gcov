        -:    0:Source:cardtest1.c
        -:    0:Graph:cardtest1.gcno
        -:    0:Data:cardtest1.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1:/* 	Card Test 1 - Smithy
        -:    2:	
        -:    3:	Rachel Bitting
        -:    4:	10/28/2018
        -:    5:	
        -:    6:*/
        -:    7:
        -:    8:
        -:    9:#include "dominion.h"
        -:   10:#include <stdio.h>
        -:   11:#include <stdlib.h>
        -:   12:#include <assert.h>
        -:   13:#include <stdio.h>
        -:   14:#include <stdlib.h>
        -:   15:#include <string.h>
        -:   16:#include <math.h> 
        -:   17:
        -:   18:int cardEffect(int card, int choice1, int choice2, int choice3, struct gameState *state, int handPos, int *bonus);
        -:   19:
function assertTrue called 2 returned 100% blocks executed 45%
        2:   20:void assertTrue(int a, int b, int operator, char* string) {
        -:   21:	// Operator boolean signals to check for greater than
        2:   22:	if (operator == 1) {
branch  0 taken 0% (fallthrough)
branch  1 taken 100%
    #####:   23:		if (a > b) {
branch  0 never executed
branch  1 never executed
    #####:   24:			printf("%s PASSED\n", string);
call    0 never executed
        -:   25:		}
    #####:   26:		else if (a != b) {
branch  0 never executed
branch  1 never executed
    #####:   27:			printf("%s FAILED\n", string);
call    0 never executed
        -:   28:		}
        -:   29:	}
        -:   30:	// Otherwise check for match
        -:   31:	else {
        2:   32:		if (a == b) {
branch  0 taken 0% (fallthrough)
branch  1 taken 100%
    #####:   33:			printf("%s PASSED\n", string);
call    0 never executed
        -:   34:		}
        2:   35:		else if (a != b) {
branch  0 taken 100% (fallthrough)
branch  1 taken 0%
        2:   36:			printf("%s FAILED\n", string);
call    0 returned 100%
        -:   37:		}
        -:   38:	}
        2:   39:}
        -:   40:
function main called 1 returned 100% blocks executed 100%
        1:   41:int main(int argc, char* argv[]) {
        1:   42:	int newCards = 0;
        1:   43:    int discarded = 1;
        1:   44:    int shuffledCards = 0;
        -:   45:
        1:   46:    int handpos = 0, choice1 = -1, choice2 = -1, choice3 = -1, bonus = 0; 
        1:   47:    int seed = 1000;
        1:   48:    int numPlayers = 2;
        1:   49:    int thisPlayer = 0;
        -:   50:	struct gameState G, testG;
        1:   51:	int k[10] = {adventurer, embargo, village, minion, mine, cutpurse, sea_hag, tribute, smithy, council_room};
        -:   52:
        -:   53:	// initialize a game state and player cards
        1:   54:	initializeGame(numPlayers, k, seed, &G);
call    0 returned 100%
        -:   55:
        -:   56:
        -:   57:	// ----------- CARD TEST 1: Testing Smithy (+3 cards) --------------
        1:   58:	printf("----------------- CARD TEST 1: Smithy ----------------\n");
call    0 returned 100%
        -:   59:
        -:   60:	// copy the game state to a test case
        1:   61:	memcpy(&testG, &G, sizeof(struct gameState));
        1:   62:	cardEffect(smithy, choice1, choice2, choice3, &testG, handpos, &bonus);
call    0 returned 100%
        -:   63:	
        -:   64:	// Cards being added to hand
        1:   65:	newCards = 3;
        -:   66:	
        -:   67:	// Hand should have 3 cards added after playing Smithy
        1:   68:	printf("hand count = %d, expected = %d\n", testG.handCount[thisPlayer], G.handCount[thisPlayer] + newCards - discarded);
call    0 returned 100%
        -:   69:	
        -:   70:	// Deck should have 3 less than before card play
        1:   71:	printf("deck count = %d, expected = %d\n", testG.deckCount[thisPlayer], G.deckCount[thisPlayer] - newCards + shuffledCards);
call    0 returned 100%
        -:   72:	
        1:   73:	assertTrue(testG.handCount[thisPlayer],G.handCount[thisPlayer] + newCards - discarded, 0, "Hand counts match?");
call    0 returned 100%
        1:   74:	assertTrue(testG.deckCount[thisPlayer],G.deckCount[thisPlayer] - newCards + shuffledCards, 0, "Deck counts match?");
call    0 returned 100%
        -:   75:	
        1:   76:	return 0;
        -:   77:}
